<section class="section" id="projects">
  <div class="container">
    <h2 class="section-title">Projects</h2>

    <div class="filter-bar">
      @for (company of companies; track company) {
        <div class="filter-item">
          <button
            class="filter-btn"
            [class.active]="activeFilter === company"
            (click)="setFilter(company)">
            {{ company }}
          </button>
          @if (companyDuration[company]) {
            <span class="filter-duration">{{ companyDuration[company] }}</span>
          }
        </div>
      }
    </div>

    <div class="projects-grid">
      @for (project of filteredProjects; track project.title) {
        <div class="project-card">
          <div class="card-header">
            <div class="card-title-row">
              <h3 class="card-title">
                {{ project.title }}
                @if (project.subtitle) {
                  <span class="card-subtitle">{{ project.subtitle }}</span>
                }
              </h3>
              @if (project.metric) {
                <span class="card-metric">{{ project.metric }}</span>
              }
            </div>
            <span class="card-company">{{ project.company }}</span>
          </div>

          <p class="card-description">{{ project.description }}</p>

          <ul class="card-highlights">
            @for (h of project.highlights; track h) {
              <li>{{ h }}</li>
            }
          </ul>

          <div class="card-tech">
            @for (tech of project.techStack; track tech) {
              <span class="tech-badge">{{ tech }}</span>
            }
          </div>
        </div>
      }
    </div>
  </div>
</section>
